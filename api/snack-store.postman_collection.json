{
  "info": {
    "name": "Snack Store API",
    "description": "Postman collection for Snack Store API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080"
    }
  ],
  "item": [
    {
      "name": "Products",
      "item": [
        {
          "name": "Create Product",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/products",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "products"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Keripik Pangsit\",\n  \"type\": \"Keripik Pangsit\",\n  \"flavor\": \"Jagung Bakar\",\n  \"size\": \"Small\",\n  \"price\": 10000,\n  \"stock_qty\": 50,\n  \"manufactured_date\": \"2025-10-01\"\n}"
            }
          },
          "response": [
            {
              "name": "Created",
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"message\": \"Product created successfully\",\n  \"data\": {\n    \"id\": \"11111111-1111-1111-1111-111111111111\",\n    \"name\": \"Keripik Pangsit\",\n    \"type\": \"Keripik Pangsit\",\n    \"flavor\": \"Jagung Bakar\",\n    \"size\": \"Small\",\n    \"price\": 10000,\n    \"stock_qty\": 50,\n    \"manufactured_date\": \"2025-10-01\"\n  }\n}"
            },
            {
              "name": "Validation Error",
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"error\": {\n    \"code\": \"VALIDATION_ERROR\",\n    \"message\": \"Size must be one of [Small Medium Large]\"\n  }\n}"
            }
          ]
        },
        {
          "name": "List Products By Date",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/products?date=2025-10-01",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "products"
              ],
              "query": [
                {
                  "key": "date",
                  "value": "2025-10-01"
                }
              ]
            }
          },
          "response": [
            {
              "name": "OK",
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"message\": \"Products fetched successfully\",\n  \"data\": [\n    {\n      \"id\": \"11111111-1111-1111-1111-111111111111\",\n      \"name\": \"Keripik Pangsit\",\n      \"type\": \"Keripik Pangsit\",\n      \"flavor\": \"Jagung Bakar\",\n      \"size\": \"Small\",\n      \"price\": 10000,\n      \"stock_qty\": 48,\n      \"manufactured_date\": \"2025-10-01\"\n    },\n    {\n      \"id\": \"22222222-2222-2222-2222-222222222222\",\n      \"name\": \"Keripik Pangsit\",\n      \"type\": \"Keripik Pangsit\",\n      \"flavor\": \"Rumput Laut\",\n      \"size\": \"Medium\",\n      \"price\": 25000,\n      \"stock_qty\": 40,\n      \"manufactured_date\": \"2025-10-01\"\n    }\n  ]\n}"
            },
            {
              "name": "Validation Error",
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"error\": {\n    \"code\": \"VALIDATION_ERROR\",\n    \"message\": \"Date must be a valid datetime\"\n  }\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Customers",
      "item": [
        {
          "name": "List Customers",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/customers",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "customers"
              ],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "page_size",
                  "value": "10"
                }
              ]
            }
          },
          "response": [
            {
              "name": "OK",
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"message\": \"Customers fetched successfully\",\n  \"data\": [\n    {\n      \"name\": \"Fery\",\n      \"points\": 20\n    },\n    {\n      \"name\": \"Fenty\",\n      \"points\": 10\n    }\n  ],\n  \"paging\": {\n    \"current_page\": 1,\n    \"page_size\": 10,\n    \"total_item\": 2,\n    \"total_page\": 1,\n    \"has_next\": false,\n    \"has_previous\": false\n  }\n}"
            },
            {
              "name": "Validation Error",
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"error\": {\n    \"code\": \"VALIDATION_ERROR\",\n    \"message\": \"Page must be 1 or greater\"\n  }\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Transactions",
      "item": [
        {
          "name": "Create Transaction",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/transactions",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "transactions"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"customer_name\": \"Fery\",\n  \"product_id\": \"11111111-1111-1111-1111-111111111111\",\n  \"qty\": 2,\n  \"transaction_at\": \"2025-10-22T15:00:22Z\"\n}"
            }
          },
          "response": [
            {
              "name": "Created",
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"message\": \"Transaction created successfully\",\n  \"data\": {\n    \"transaction_id\": \"44444444-4444-4444-4444-444444444444\",\n    \"customer_name\": \"Fery\",\n    \"product_name\": \"Keripik Pangsit\",\n    \"size\": \"Small\",\n    \"flavor\": \"Jagung Bakar\",\n    \"qty\": 2,\n    \"unit_price\": 10000,\n    \"total_price\": 20000,\n    \"points_earned\": 20,\n    \"transaction_at\": \"2025-10-22T15:00:22Z\"\n  }\n}"
            },
            {
              "name": "Conflict",
              "status": "Conflict",
              "code": 409,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"error\": {\n    \"code\": \"CONFLICT\",\n    \"message\": \"Insufficient stock\"\n  }\n}"
            }
          ]
        },
        {
          "name": "List Transactions By Date Range",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/transactions?start=2025-10-01&end=2025-12-31",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "transactions"
              ],
              "query": [
                {
                  "key": "start",
                  "value": "2025-10-01"
                },
                {
                  "key": "end",
                  "value": "2025-12-31"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "page_size",
                  "value": "10"
                }
              ]
            }
          },
          "response": [
            {
              "name": "OK",
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"message\": \"Transactions fetched successfully\",\n  \"data\": [\n    {\n      \"transaction_id\": \"44444444-4444-4444-4444-444444444444\",\n      \"customer_name\": \"Fery\",\n      \"product_name\": \"Keripik Pangsit\",\n      \"size\": \"Small\",\n      \"flavor\": \"Jagung Bakar\",\n      \"qty\": 2,\n      \"unit_price\": 10000,\n      \"total_price\": 20000,\n      \"points_earned\": 20,\n      \"transaction_at\": \"2025-10-22T15:00:22Z\"\n    },\n    {\n      \"transaction_id\": \"55555555-5555-5555-5555-555555555555\",\n      \"customer_name\": \"Fenty\",\n      \"product_name\": \"Keripik Pangsit\",\n      \"size\": \"Medium\",\n      \"flavor\": \"Rumput Laut\",\n      \"qty\": 1,\n      \"unit_price\": 25000,\n      \"total_price\": 25000,\n      \"points_earned\": 25,\n      \"transaction_at\": \"2025-11-22T13:00:22Z\"\n    }\n  ],\n  \"paging\": {\n    \"current_page\": 1,\n    \"page_size\": 10,\n    \"total_item\": 2,\n    \"total_page\": 1,\n    \"has_next\": false,\n    \"has_previous\": false\n  }\n}"
            },
            {
              "name": "Validation Error",
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"error\": {\n    \"code\": \"VALIDATION_ERROR\",\n    \"message\": \"Start must be a valid datetime\"\n  }\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Redemptions",
      "item": [
        {
          "name": "Create Redemption",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/redemptions",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "redemptions"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"customer_name\": \"Fery\",\n  \"product_id\": \"11111111-1111-1111-1111-111111111111\",\n  \"qty\": 1,\n  \"redeem_at\": \"2025-12-01T10:00:00Z\"\n}"
            }
          },
          "response": [
            {
              "name": "Created",
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"message\": \"Redemption created successfully\",\n  \"data\": {\n    \"redemption_id\": \"66666666-6666-6666-6666-666666666666\",\n    \"customer_name\": \"Fery\",\n    \"product_name\": \"Keripik Pangsit\",\n    \"size\": \"Small\",\n    \"qty\": 1,\n    \"points_spent\": 200,\n    \"redeem_at\": \"2025-12-01T10:00:00Z\"\n  }\n}"
            },
            {
              "name": "Conflict",
              "status": "Conflict",
              "code": 409,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"error\": {\n    \"code\": \"CONFLICT\",\n    \"message\": \"Insufficient points\"\n  }\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Reports",
      "item": [
        {
          "name": "Report Transactions",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/reports/transactions?start=2025-10-01&end=2025-12-31",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "reports",
                "transactions"
              ],
              "query": [
                {
                  "key": "start",
                  "value": "2025-10-01"
                },
                {
                  "key": "end",
                  "value": "2025-12-31"
                }
              ]
            }
          },
          "response": [
            {
              "name": "OK",
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"message\": \"Report fetched successfully\",\n  \"data\": {\n    \"total_customer\": 2,\n    \"has_new_customer\": true,\n    \"total_income\": 45000,\n    \"best_seller\": {\n      \"product_name\": \"Keripik Pangsit\",\n      \"size\": \"Small\",\n      \"flavor\": \"Jagung Bakar\",\n      \"total_qty\": 2\n    },\n    \"total_products_sold\": 3,\n    \"last_transactions\": [\n      {\n        \"transaction_id\": \"55555555-5555-5555-5555-555555555555\",\n        \"customer_name\": \"Fenty\",\n        \"product_name\": \"Keripik Pangsit\",\n        \"size\": \"Medium\",\n        \"flavor\": \"Rumput Laut\",\n        \"qty\": 1,\n        \"unit_price\": 25000,\n        \"total_price\": 25000,\n        \"points_earned\": 25,\n        \"transaction_at\": \"2025-11-22T13:00:22Z\",\n        \"is_new_customer\": false\n      },\n      {\n        \"transaction_id\": \"44444444-4444-4444-4444-444444444444\",\n        \"customer_name\": \"Fery\",\n        \"product_name\": \"Keripik Pangsit\",\n        \"size\": \"Small\",\n        \"flavor\": \"Jagung Bakar\",\n        \"qty\": 2,\n        \"unit_price\": 10000,\n        \"total_price\": 20000,\n        \"points_earned\": 20,\n        \"transaction_at\": \"2025-10-22T15:00:22Z\",\n        \"is_new_customer\": true\n      }\n    ]\n  }\n}"
            },
            {
              "name": "Validation Error",
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"error\": {\n    \"code\": \"VALIDATION_ERROR\",\n    \"message\": \"End must be a valid datetime\"\n  }\n}"
            }
          ]
        }
      ]
    }
  ]
}
